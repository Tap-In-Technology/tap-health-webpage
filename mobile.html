<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tap Health - Mobile v2</title>
    
    <!-- Desktop redirect script -->
    <script>
        // Redirect to desktop version when screen becomes large
        function isMobile() {
            return window.innerWidth <= 768 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }
        
        // Redirect on window resize to desktop
        window.addEventListener('resize', function() {
            if (!isMobile()) {
                window.location.href = 'index.html';
            }
        });
    </script>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <script src="https://cdn.tailwindcss.com?v=4"></script>
    <link rel="icon" type="image/svg+xml" href="/media/icon.svg" />
    <style>
        html {
            scroll-behavior: smooth;
        }
        
        /* Background image styling */
        .lightning-bg {
            background-image: url('/media/lightning_bg.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            height: 70vh; /* Adjusted for larger header/footer */
            position: relative;
        }
        
        /* Vignette overlay */
        .lightning-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(ellipse at center, 
                rgba(0, 0, 0, 0.2) 0%, 
                rgba(0, 0, 0, 0.4) 40%, 
                rgba(0, 0, 0, 0.7) 70%, 
                rgba(0, 0, 0, 0.9) 100%);
            pointer-events: none;
            z-index: 1;
        }
        
        body {
            background-color: #000000;
            overflow: hidden; /* No scrolling on mobile */
            height: 100vh;
            margin: 0;
            padding: 0;
        }
        
        /* Mobile header */
        .mobile-header {
            min-height: 15vh; /* Use min-height instead of fixed height */
            height: auto; /* Allow height to grow if needed */
            background-color: #000000;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 1rem 0; /* Add padding to ensure content doesn't touch edges */
        }
        
        /* Ensure buttons are never cut off on very small screens */
        @media (max-height: 600px) {
            .mobile-header {
                min-height: 120px; /* Minimum height to fit logo and button */
            }
        }
        
        @media (max-height: 500px) {
            .mobile-header {
                min-height: 140px; /* Even more space for very small screens */
            }
        }
        
        /* Responsive sizing for header elements on very small screens */
        @media (max-width: 400px) {
            .mobile-header .h-28 {
                height: 5rem !important; /* Smaller logo on very small screens */
            }
            
            .mobile-header button {
                padding: 0.5rem 1rem !important; /* Smaller button padding */
                font-size: 0.875rem !important; /* Smaller button text */
            }
        }
        
        @media (max-height: 600px) and (max-width: 400px) {
            .mobile-header .h-28 {
                height: 4rem !important; /* Even smaller logo on small screens */
            }
            
            .mobile-header button {
                padding: 0.375rem 0.75rem !important; /* Even smaller button */
                font-size: 0.75rem !important;
            }
        }
        
        /* Mobile footer */
        .mobile-footer {
            min-height: 15vh; /* Use min-height instead of fixed height */
            height: auto; /* Allow height to grow if needed */
            background-color: #000000;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 1rem 0; /* Add padding to ensure content doesn't touch edges */
        }
        
        /* Ensure footer content is never cut off on very small screens */
        @media (max-height: 600px) {
            .mobile-footer {
                min-height: 80px; /* Minimum height for footer content */
            }
        }
        
        @media (max-height: 500px) {
            .mobile-footer {
                min-height: 100px; /* Even more space for very small screens */
            }
        }
        
        /* Typing animation */
        .typing-container {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .typing-text {
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            color: #ffffff;
            min-height: 1.25rem;
            white-space: nowrap;
        }
        
        .typing-cursor {
            display: inline-block;
            width: 2px;
            height: 1rem;
            background-color: #ffffff;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        .request-button {
            background: white;
            color: black;
            padding: 1rem 2rem;
            border-radius: 0.5rem;
            font-size: 1.125rem;
            font-weight: 700;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .request-button:hover {
            background: #e5e7eb;
        }

    </style>

    <!-- Apollo Website Tracker -->
    <script>function initApollo(){var n=Math.random().toString(36).substring(7),o=document.createElement("script");
    o.src="https://assets.apollo.io/micro/website-tracker/tracker.iife.js?nocache="+n,o.async=!0,o.defer=!0,
    o.onload=function(){window.trackingFunctions.onLoad({appId:"6969296afef8f30019195ad1"})},
    document.head.appendChild(o)}initApollo();</script>
</head>

<body>
    <!-- Mobile header -->
    <div class="mobile-header">
        <!-- Tap logo in header -->
        <div class="absolute top-2 left-4">
            <img src="/media/Tap_inverted.png" alt="Tap Health Logo" class="h-28 w-auto">
        </div>
        <!-- Get in Touch button in upper right -->
        <div class="absolute top-4 right-4 flex items-center h-28">
            <button onclick="openContactForm()" class="bg-white text-black px-6 py-3 rounded-lg text-lg font-bold hover:bg-gray-200 transition-colors">
                Get in Touch
            </button>
        </div>
    </div>
    
    <!-- Lightning background hero section -->
    <section class="lightning-bg relative">
        
        
        <!-- Main heading text with opacity shifts -->
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-30" id="text-container" style="top: 50%; left: 50%;">
            <h1 class="text-white font-bold text-center leading-tight text-fade" id="text-1" style="color: #ffffff !important; text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.8), 0 0 20px rgba(0, 0, 0, 0.5); font-size: clamp(3rem, 12vw, 6rem); opacity: 1; transition: none;">
                Your data.<br>Where you want it.
            </h1>
            <h1 class="text-white font-bold text-center leading-tight text-fade" id="text-2" style="color: #ffffff !important; text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.8), 0 0 20px rgba(0, 0, 0, 0.5); font-size: clamp(3rem, 12vw, 6rem); opacity: 0; transition: none; position: absolute; top: 0; left: 0; width: 100%;">
                One Tap Is All It Takes.
            </h1>
        </div>
    </section>
    
    <!-- Mobile footer -->
    <div class="mobile-footer">
        <div class="flex flex-col items-start gap-4 w-full px-4">
            <a href="privacy.html" class="text-base text-gray-400 hover:text-white transition-colors">Privacy Policy</a>
        </div>
    </div>

    <!-- Success Confirmation Popup -->
    <div id="successPopup" class="fixed inset-0 bg-black bg-opacity-80 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-xl p-6 w-80 max-w-sm shadow-2xl text-center">
            <div class="mb-4">
                <svg class="w-16 h-16 text-green-500 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-2">Message Sent!</h3>
            <p class="text-gray-600 mb-6">Thank you for reaching out. We'll get back to you soon!</p>
            <button onclick="closeSuccessPopup()" class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors">
                Got it
            </button>
        </div>
    </div>

    <!-- Contact Form Popup -->
    <div id="contactPopup" class="fixed inset-0 bg-black bg-opacity-80 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-xl p-4 w-80 max-w-sm shadow-2xl" style="max-width: 320px; width: 320px; padding: 16px;">
            <div class="flex justify-between items-center mb-3" style="margin-bottom: 12px;">
                <h3 class="text-lg font-bold text-gray-900" style="font-size: 18px; font-weight: bold;">Get in Touch</h3>
                <button onclick="closeContactForm()" class="text-gray-400 hover:text-gray-600 transition-colors">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: 16px; height: 16px;">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <form id="contactForm" class="space-y-2" style="gap: 8px;">
                <div>
                    <label for="name" class="block text-xs font-medium text-gray-700 mb-1" style="font-size: 12px; margin-bottom: 4px;">Name *</label>
                    <input type="text" id="name" name="name" required 
                           class="w-full px-2 py-1 border border-gray-300 rounded text-gray-900 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent" 
                           style="padding: 4px 8px; font-size: 12px; height: 28px;">
                </div>
                <div>
                    <label for="email" class="block text-xs font-medium text-gray-700 mb-1" style="font-size: 12px; margin-bottom: 4px;">Email *</label>
                    <input type="email" id="email" name="email" required 
                           class="w-full px-2 py-1 border border-gray-300 rounded text-gray-900 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent" 
                           style="padding: 4px 8px; font-size: 12px; height: 28px;">
                </div>
                <div>
                    <label for="phone" class="block text-xs font-medium text-gray-700 mb-1" style="font-size: 12px; margin-bottom: 4px;">Phone</label>
                    <input type="tel" id="phone" name="phone" 
                           class="w-full px-2 py-1 border border-gray-300 rounded text-gray-900 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent" 
                           style="padding: 4px 8px; font-size: 12px; height: 28px;">
                </div>
                <div>
                    <label for="message" class="block text-xs font-medium text-gray-700 mb-1" style="font-size: 12px; margin-bottom: 4px;">Message *</label>
                    <textarea id="message" name="message" rows="2" required 
                              class="w-full px-2 py-1 border border-gray-300 rounded text-gray-900 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent resize-none" 
                              style="padding: 4px 8px; font-size: 12px; height: 48px;"></textarea>
                </div>
                <div class="flex gap-2 pt-2" style="gap: 8px; padding-top: 8px;">
                    <button type="button" onclick="closeContactForm()" 
                            class="flex-1 px-2 py-1 border border-gray-300 text-gray-700 rounded text-xs hover:bg-gray-50 transition-colors font-medium" 
                            style="padding: 4px 8px; font-size: 12px; height: 28px;">
                        Cancel
                    </button>
                    <button type="submit" 
                            class="flex-1 px-2 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition-colors font-medium" 
                            style="padding: 4px 8px; font-size: 12px; height: 28px;">
                        Send
                    </button>
                </div>
            </form>
        </div>
    </div>


    <script>
        // Contact form functionality
        function openContactForm() {
            document.getElementById('contactPopup').classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }

        function closeContactForm() {
            document.getElementById('contactPopup').classList.add('hidden');
            document.body.style.overflow = 'auto'; // Restore scrolling
            document.getElementById('contactForm').reset(); // Clear form
        }

        function closeSuccessPopup() {
            document.getElementById('successPopup').classList.add('hidden');
            document.body.style.overflow = 'auto'; // Restore scrolling
        }

        // Handle form submission
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const message = document.getElementById('message').value;

            if (!name || !email || !message) {
                alert('Please fill in all required fields.');
                return;
            }

            // Show success popup instead of alert
            closeContactForm(); // Close the form first
            document.getElementById('successPopup').classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        });

        // Close popup when clicking outside
        document.getElementById('contactPopup').addEventListener('click', function(e) {
            if (e.target === this) {
                closeContactForm();
            }
        });

        // Close success popup when clicking outside
        document.getElementById('successPopup').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSuccessPopup();
            }
        });



        // Opacity shift text transitions
        let currentTextIndex = 0;
        const textElements = [
            { element: document.getElementById('text-1'), showAt: 0 },
            { element: document.getElementById('text-2'), showAt: 200 }
        ];

        // Mobile: Text fade animation
        let isAnimating = false;
        let animationInterval;

        function electricStrike() {
            console.log('Electric strike triggered!');
            if (isAnimating) {
                console.log('Animation already in progress, skipping...');
                return;
            }
            isAnimating = true;

            const currentElement = textElements[currentTextIndex].element;
            const nextIndex = (currentTextIndex + 1) % textElements.length;
            const nextElement = textElements[nextIndex].element;

            console.log('Current text:', currentElement.textContent);
            console.log('Next text:', nextElement.textContent);

            // Sanity check: Ensure only current element is visible
            textElements.forEach((textObj, index) => {
                if (index !== currentTextIndex) {
                    textObj.element.style.opacity = '0';
                }
            });

            // Phase 1: Electric strike on current text (0-150ms) - MUCH LONGER
            console.log('Phase 1: Electric strike');
            currentElement.style.textShadow = '0 0 20px #c0c0c0, 0 0 40px #e0e0e0, 0 0 60px #f0f0f0, 0 0 80px #ffffff';
            currentElement.style.color = '#ffffff';
            currentElement.style.filter = 'brightness(2.5) contrast(2)';
            
            // Phase 2: Flicker effect (150-300ms) - MUCH LONGER
            setTimeout(() => {
                console.log('Phase 2: Flicker effect');
                let flickerCount = 0;
                const flickerInterval = setInterval(() => {
                    if (flickerCount >= 2) { // 2 flicks for longer effect
                        clearInterval(flickerInterval);
                        return;
                    }
                    currentElement.style.opacity = currentElement.style.opacity === '0.1' ? '1' : '0.1';
                    flickerCount++;
                }, 60); // Much slower flicker
            }, 150);
            
            // Phase 3: Text replacement and electric entrance (300ms) - MUCH LONGER
            setTimeout(() => {
                console.log('Phase 3: Text replacement');
                // Hide current text
                currentElement.style.opacity = '0';
                currentElement.style.textShadow = '';
                currentElement.style.filter = '';
                
                // Show new text with electric glow
                nextElement.style.opacity = '1';
                nextElement.style.textShadow = '0 0 30px #c0c0c0, 0 0 60px #e0e0e0, 0 0 90px #f0f0f0';
                nextElement.style.color = '#ffffff';
                nextElement.style.filter = 'brightness(2) contrast(1.5)';
                
                // Phase 4: Settle to normal (300-450ms) - MUCH LONGER
                setTimeout(() => {
                    console.log('Phase 4: Settle to normal');
                    nextElement.style.textShadow = '3px 3px 6px rgba(0, 0, 0, 0.8), 0 0 20px rgba(0, 0, 0, 0.5)';
                    nextElement.style.filter = '';
                    currentTextIndex = nextIndex;
                    isAnimating = false;
                    console.log('Animation complete!');
                }, 150);
            }, 300);
        }

        function initText() {
            console.log('Initializing mobile text animation...');
            
            // Clear any existing animation interval
            if (animationInterval) {
                clearInterval(animationInterval);
                animationInterval = null;
            }
            
            // Reset animation state
            isAnimating = false;
            currentTextIndex = 0;
            
            // Ensure elements exist
            if (!textElements[0].element || !textElements[1].element) {
                console.log('Text elements not found, retrying...');
                setTimeout(initText, 100);
                return;
            }
            
            console.log('Text elements found, setting up animation...');
            
            // Force reset all elements first
            textElements.forEach((textObj, index) => {
                const element = textObj.element;
                element.style.opacity = '0';
                element.style.textShadow = '';
                element.style.filter = '';
            });
            
            // Show only the first element
            textElements[0].element.style.opacity = '1';
            textElements[0].element.style.textShadow = '3px 3px 6px rgba(0, 0, 0, 0.8), 0 0 20px rgba(0, 0, 0, 0.5)';
            
            // Double sanity check: Ensure only one header is visible
            console.log('Sanity check: Ensuring only one header is visible');
            textElements.forEach((textObj, index) => {
                if (index !== 0) {
                    textObj.element.style.opacity = '0';
                }
            });
            
            // Start the electric strike animation cycle after a short delay
            setTimeout(() => {
                console.log('Starting electric strike animation...');
                animationInterval = setInterval(electricStrike, 5000); // Change text every 5 seconds (very frequent zaps)
            }, 1000);
        }

        window.addEventListener('load', initText);
        
        // Reinitialize when page becomes visible again (user comes back to tab)
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden) {
                console.log('Page became visible, reinitializing...');
                setTimeout(initText, 100); // Small delay to ensure page is fully loaded
            }
        });

    </script>
</body>

</html>
